# frozen_string_literal: true

require "rails_helper"

RSpec.describe ValidationErrorSerializer do
  let(:record) { create(:user) }
  let(:response_data) { described_class.new(record, :name, { error: :blank }, "error message").serialize }

  describe "#serialize" do
    it do
      expect(response_data[:resource]).to eq "user"
      expect(response_data[:field]).to eq "name"
      expect(response_data[:code]).to eq 1003
      expect(response_data[:message]).to eq "error message"
    end
  end
end
